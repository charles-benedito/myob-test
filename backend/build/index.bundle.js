module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)r.d(n,u,function(t){return e[t]}.bind(null,u));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t){e.exports=require("http-status")},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(n);const o=new n.Schema({firstName:{type:String,trim:!0},lastName:{type:String,trim:!0},annualSalary:{type:Number,required:[!0,"Annual salary is required"]},superRate:{type:Number,default:0},paymentStartDate:{type:String,trim:!0,required:[!0,"Payment start date is required"]}},{timestamps:!0}),a=u.default.model("Employee",o);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));class u extends Error{constructor(e,t,r){super(e),this.name=this.constructor.name,this.message=e,this.status=t,this.isPublic=r,this.isOperational=!0,Error.captureStackTrace(this,this.constructor.name)}}t.RequiredError=class{static makePretty(e){return e.reduce((e,t)=>{const r=e;return r[t.field]=t.messages[0].replace(/"/g,""),r},{})}},t.default=class extends u{constructor(e,t=n.default.INTERNAL_SERVER_ERROR,r=!1){super(e,t,r)}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),u=s(r(2)),o=s(r(8)),a=s(r(9)),i=s(r(16));function s(e){return e&&e.__esModule?e:{default:e}}(0,n.connectDb)();const d=(0,u.default)();(0,a.default)(d),(0,i.default)(d),e.parent||d.listen("4000",e=>{e?console.error(o.default.red("Error! ",e)):console.log(o.default.green.bold("\n        YEAHHHH! nothing broke so far.\n        Listening port 4000 - with env development"))}),t.default=d}).call(this,r(6)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectDb=void 0;t.connectDb=(()=>{var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(u,o){try{var a=t[u](o),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(function*(){try{yield n.default.connect("mongodb://dbuser:dbpass123@ds141623.mlab.com:41623/heroku_gtvv9w0b",{useNewUrlParser:!0})}catch(e){throw e}});return function(){return e.apply(this,arguments)}})();var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1));n.default.Promise=Promise},function(e,t){e.exports=require("chalk")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(10)),u=d(r(11)),o=d(r(12)),a=d(r(13)),i=d(r(14)),s=d(r(15));function d(e){return e&&e.__esModule?e:{default:e}}t.default=(e=>{e.use((0,u.default)()),e.use(n.default.urlencoded({extended:!0})),e.use(n.default.json()),e.use(o.default.initialize()),e.use((0,i.default)()),e.use((0,s.default)()),e.use((0,a.default)())})},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("method-override")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("cors")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(17)),u=s(r(19)),o=s(r(4)),a=s(r(23)),i=s(r(0));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(e=>{e.use("/api/employee",n.default),e.use("/api/payment",u.default),e.use("*",(e,t,r)=>r(new o.default("Not Found!",i.default.NOT_FOUND,!0))),e.use(a.default)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(18));const o=new n.Router;o.get("/",u.read),o.get("/:id",u.readOne),o.post("/",u.createOne),o.patch("/:id",u.updateOne),o.delete("/:id",u.deleteOne),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readOne=t.deleteOne=t.updateOne=t.createOne=t.read=void 0;t.read=(()=>{var e=a(function*(e,t,r){try{const e=yield u.default.find({},{},{sort:{createdAt:-1}});return t.status(n.default.OK).json(e)}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})(),t.createOne=(()=>{var e=a(function*(e,t,r){try{return yield new u.default(e.body).save(),t.status(n.default.CREATED).json({err:0})}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})(),t.updateOne=(()=>{var e=a(function*(e,t,r){try{return yield u.default.findOneAndUpdate({_id:e.body.id},e.body),t.sendStatus(n.default.OK).json({err:0})}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})(),t.deleteOne=(()=>{var e=a(function*(e,t,r){try{return yield u.default.findOneAndRemove({_id:e.params.id}),t.sendStatus(n.default.OK).json({err:0})}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})(),t.readOne=(()=>{var e=a(function*(e,t,r){try{const o=yield u.default.findOne({_id:e.params.id});return t.status(n.default.OK).json(o)}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})();var n=o(r(0)),u=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(u,o){try{var a=t[u](o),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(20));const o=new n.Router;o.get("/",u.read),o.post("/",u.createOne),o.delete("/:id",u.deleteOne),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteOne=t.createOne=t.read=void 0;t.read=(()=>{var e=a(function*(e,t,r){try{const e=yield u.default.find({},{},{sort:{createdAt:-1}}).populate("employee");return t.status(n.default.OK).json(e)}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})(),t.createOne=(()=>{var e=a(function*(e,t,r){try{return yield new u.default(e.body).save(),t.status(n.default.CREATED).json({err:0})}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})(),t.deleteOne=(()=>{var e=a(function*(e,t,r){try{return yield u.default.findOneAndRemove({_id:e.params.id}),t.sendStatus(n.default.OK).json({err:0})}catch(e){return e.status=n.default.BAD_REQUEST,r(e)}});return function(t,r,n){return e.apply(this,arguments)}})();var n=o(r(0)),u=o(r(21));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(u,o){try{var a=t[u](o),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=i(n),o=i(r(3)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(22));function i(e){return e&&e.__esModule?e:{default:e}}const s=new n.Schema({employee:{type:n.Schema.Types.ObjectId,ref:"Employee"},annualSalary:{type:Number},superRate:{type:Number},payPeriod:{type:String},payMonth:{type:Number},payYear:{type:Number},grossIncome:{type:Number},incomeTax:{type:Number},netIncome:{type:Number},super:{type:Number}},{timestamps:!0});s.pre("save",(()=>{var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(u,o){try{var a=t[u](o),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(function*(e){const t=yield o.default.findOne({_id:this.employee});this.payPeriod=a.payPeriod(this.payMonth,this.payYear),this.grossIncome=a.grossIncome(t.annualSalary),this.incomeTax=a.incomeTax(t.annualSalary),this.netIncome=a.netIncome(this.grossIncome,this.incomeTax),this.super=a.superValue(this.grossIncome,t.superRate),e()});return function(t){return e.apply(this,arguments)}})());const d=u.default.model("Payment",s);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=e=>1===e.toString().length?`0${e}`:e;t.payPeriod=((e,t)=>`01/${n(e)}/${t} to 31/${n(e)}/${t}`),t.grossIncome=(e=>Math.round(e/12)),t.incomeTax=(e=>e>0&&e<18200?0:e>18201&&e<37e3?Math.round(.19*(e-18200)/12):e>37001&&e<87e3?Math.round((3572+.325*(e-37e3))/12):e>87001&&e<18e4?Math.round((19822+.37*(e-87e3))/12):e>180001?Math.round((54232+.45*(e-18e4))/12):void 0),t.netIncome=((e,t)=>Math.round(e-t)),t.superValue=((e,t)=>Math.round(e*(t/100)))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i){if(!e)return new a.default("Error with the server!",u.default.INTERNAL_SERVER_ERROR,!0);const s=new n.default;s.skipNodeFiles(),s.skipPackage("express"),console.log(s.render(e));const d={message:e.message||"Internal Server Error."};if(e.errors){d.errors={};const{errors:t}=e;Array.isArray(t)?d.errors=o.RequiredError.makePretty(t):Object.keys(t).forEach(e=>{d.errors[e]=t[e].message})}return r.status(e.status||u.default.INTERNAL_SERVER_ERROR).json(d),i()};var n=i(r(24)),u=i(r(0)),o=r(4),a=i(o);function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("pretty-error")}]);